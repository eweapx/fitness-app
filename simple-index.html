<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Health & Wellness Tracker</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      padding-top: 20px;
      padding-bottom: 80px;
    }
    .card {
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .stat-card {
      text-align: center;
      padding: 15px;
    }
    .stat-value {
      font-size: 2rem;
      font-weight: bold;
      color: #007bff;
    }
    .activity-icon, .habit-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      font-size: 1.5rem;
    }
    .nav-pills .nav-link.active {
      background-color: #007bff;
    }
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: white;
      border-top: 1px solid #dee2e6;
      z-index: 1000;
      padding: 10px 0;
    }
    .bottom-nav .nav-link {
      text-align: center;
      font-size: 0.8rem;
    }
    .bottom-nav .nav-link i {
      font-size: 1.2rem;
      display: block;
      margin-bottom: 2px;
    }
    
    /* Workout form styles */
    .plate-selector .plate-btn.active {
      background-color: #212529;
      color: white;
    }
    
    .plate-badge {
      padding: 5px 10px;
      border-radius: 15px;
      background-color: #6c757d;
      color: white;
      font-size: 0.8rem;
      margin: 2px;
    }
    
    /* Scroll wheel styles */
    .weight-selector-container {
      position: relative;
    }
    
    .scroll-wheel-container {
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      height: 150px;
      background-color: #f8f9fa;
      border: 1px solid #ced4da;
      border-radius: 0.25rem;
      overflow: hidden;
      z-index: 1000;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .scroll-wheel {
      position: relative;
      height: 100%;
      overflow-y: auto;
      scrollbar-width: none;
      text-align: center;
    }
    
    .scroll-wheel::-webkit-scrollbar {
      display: none;
    }
    
    .scroll-wheel-item {
      padding: 10px 0;
      font-size: 1.2rem;
      cursor: pointer;
    }
    
    .scroll-wheel-item.active {
      background-color: rgba(13, 110, 253, 0.1);
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="mb-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="text-center mb-0">Health & Wellness Tracker</h1>
        
        <!-- User Authentication Buttons -->
        <div id="auth-buttons">
          <button class="btn btn-outline-primary me-2" data-bs-toggle="modal" data-bs-target="#loginModal">Log In</button>
          <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#registerModal">Sign Up</button>
        </div>
        
        <!-- User Profile (Hidden by default) -->
        <div id="user-profile" style="display: none;" class="dropdown">
          <button class="btn btn-outline-primary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person-circle me-1"></i>
            <span id="user-name">User</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
            <li><a class="dropdown-item" href="#" id="profile-settings"><i class="bi bi-gear me-2"></i>Settings</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#" id="logout-button"><i class="bi bi-box-arrow-right me-2"></i>Log Out</a></li>
          </ul>
        </div>
      </div>
      
      <!-- Top Navigation -->
      <ul class="nav nav-pills nav-fill mb-4">
        <li class="nav-item">
          <a class="nav-link active" id="dashboard-tab" href="#">Dashboard</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="activity-tab" href="#">Activities</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="nutrition-tab" href="#">Nutrition</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="habits-tab" href="#">Bad Habits</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="sleep-tab" href="#">Sleep</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="connections-tab" href="#">Connections</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="about-tab" href="#" data-bs-toggle="modal" data-bs-target="#aboutModal">About</a>
        </li>
      </ul>
    </header>

    <main>
      <!-- Dashboard Section -->
      <div id="dashboard-content" class="content-section">
        <!-- Health Snapshot Widget -->
        <div class="card mb-4 shadow-sm">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-md-8">
                <h4 class="mb-1">Quick Health Snapshot</h4>
                <p class="text-muted mb-3">Capture your health metrics right now with one tap</p>
                <div class="d-flex flex-wrap gap-2 mb-2">
                  <span class="badge rounded-pill bg-primary-subtle text-primary p-2">
                    <i class="bi bi-heart-pulse"></i> Heart Rate
                  </span>
                  <span class="badge rounded-pill bg-success-subtle text-success p-2">
                    <i class="bi bi-activity"></i> Energy Level
                  </span>
                  <span class="badge rounded-pill bg-info-subtle text-info p-2">
                    <i class="bi bi-cup-hot"></i> Hydration
                  </span>
                  <span class="badge rounded-pill bg-warning-subtle text-warning p-2">
                    <i class="bi bi-emoji-smile"></i> Mood
                  </span>
                  <span class="badge rounded-pill bg-danger-subtle text-danger p-2">
                    <i class="bi bi-lightning-charge"></i> Stress Level
                  </span>
                </div>
              </div>
              <div class="col-md-4 text-md-end mt-3 mt-md-0">
                <button id="capture-snapshot-btn" class="btn btn-primary btn-lg">
                  <i class="bi bi-camera"></i> Capture Now
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Stats Row -->
        <div class="row">
          <div class="col-md-4">
            <div class="card stat-card">
              <h5>Steps</h5>
              <div class="stat-value" id="steps-count">0</div>
              <button class="btn btn-sm btn-outline-primary mt-2" data-bs-toggle="modal" data-bs-target="#addStepsModal">
                + Add Steps
              </button>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card stat-card">
              <h5>Calories Burned</h5>
              <div class="stat-value" id="calories-count">0</div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card stat-card">
              <h5>Activities</h5>
              <div class="stat-value" id="activities-count">0</div>
              <button class="btn btn-sm btn-outline-primary mt-2" data-bs-toggle="modal" data-bs-target="#logActivityModal">
                + Log Activity
              </button>
            </div>
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-md-6">
            <div class="card">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Recent Activities</h5>
                <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#logActivityModal">
                  + Add
                </button>
              </div>
              <div class="card-body">
                <div id="activities-list">
                  <!-- Activities will be populated by JavaScript -->
                </div>
                <div id="no-activities" class="text-center py-4">
                  <p class="text-muted">No activities logged yet.</p>
                  <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#logActivityModal">
                    Log Your First Activity
                  </button>
                </div>
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="card">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Habit Tracking</h5>
                <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#addHabitModal">
                  + Add
                </button>
              </div>
              <div class="card-body">
                <div class="row mb-4">
                  <div class="col-4 text-center">
                    <h6 class="text-muted small">Habits</h6>
                    <h4 id="habits-count">0</h4>
                  </div>
                  <div class="col-4 text-center">
                    <h6 class="text-muted small">Current Streak</h6>
                    <h4 id="current-streak-count">0</h4>
                  </div>
                  <div class="col-4 text-center">
                    <h6 class="text-muted small">Success Rate</h6>
                    <h4 id="success-rate-count">0%</h4>
                  </div>
                </div>
                
                <div id="habits-list">
                  <!-- Habits will be populated by JavaScript -->
                </div>
                <div id="no-habits" class="text-center py-4">
                  <p class="text-muted">No habits being tracked yet.</p>
                  <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addHabitModal">
                    Start Tracking a Habit
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Activity Section (Initially Hidden) -->
      <div id="activity-content" class="content-section" style="display: none;">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Activity Tracking</h5>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#logActivityModal">
              Log New Activity
            </button>
          </div>
          <div class="card-body">
            <div class="alert alert-info mb-4">
              <i class="bi bi-info-circle me-2"></i>
              Track your physical activities and monitor your progress over time.
            </div>
            
            <h5 class="mb-3">All Activities</h5>
            <div id="all-activities-list">
              <!-- All activities will be populated by JavaScript -->
            </div>
            <div id="no-all-activities" class="text-center py-4">
              <p class="text-muted">No activities logged yet.</p>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#logActivityModal">
                Log Your First Activity
              </button>
            </div>
            
            <div class="mt-4">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h5 class="mb-0">Activity History</h5>
                <div class="btn-group" role="group" aria-label="Chart type toggle">
                  <button type="button" class="btn btn-sm btn-outline-primary active" id="chart-type-doughnut">Doughnut</button>
                  <button type="button" class="btn btn-sm btn-outline-primary" id="chart-type-bar">Bar</button>
                  <button type="button" class="btn btn-sm btn-outline-primary" id="chart-type-line">Line</button>
                </div>
              </div>
              <canvas id="activity-chart" height="200"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Nutrition Section (Initially Hidden) -->
      <div id="nutrition-content" class="content-section" style="display: none;">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Nutrition Tracking</h5>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addMealModal">
              Log New Meal
            </button>
          </div>
          <div class="card-body">
            <div class="alert alert-info mb-4">
              <i class="bi bi-info-circle me-2"></i>
              Track your daily food intake, monitor your calories and macronutrients.
            </div>
            
            <div class="row mb-4">
              <div class="col-md-3 col-6">
                <div class="card stat-card">
                  <h6>Daily Calories</h6>
                  <div class="stat-value" id="nutrition-calories">0</div>
                  <div class="small text-muted">Goal: 2000</div>
                </div>
              </div>
              <div class="col-md-3 col-6">
                <div class="card stat-card">
                  <h6>Protein</h6>
                  <div class="stat-value" id="nutrition-protein">0g</div>
                  <div class="small text-muted">Goal: 120g</div>
                </div>
              </div>
              <div class="col-md-3 col-6">
                <div class="card stat-card">
                  <h6>Carbs</h6>
                  <div class="stat-value" id="nutrition-carbs">0g</div>
                  <div class="small text-muted">Goal: 225g</div>
                </div>
              </div>
              <div class="col-md-3 col-6">
                <div class="card stat-card">
                  <h6>Fat</h6>
                  <div class="stat-value" id="nutrition-fat">0g</div>
                  <div class="small text-muted">Goal: 65g</div>
                </div>
              </div>
            </div>

            <h5 class="mb-3">Today's Meals</h5>
            <div id="meals-list">
              <!-- Meals will be populated by JavaScript -->
              <div class="text-center py-4">
                <p class="text-muted">No meals logged yet today.</p>
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addMealModal">
                  Log Your First Meal
                </button>
              </div>
            </div>
            
            <div class="mt-4">
              <h5 class="mb-3">Nutrition History</h5>
              <canvas id="nutrition-chart" height="200"></canvas>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Habits Section (Initially Hidden) -->
      <div id="habits-content" class="content-section" style="display: none;">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Bad Habit Tracking</h5>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addHabitModal">
              Add New Habit
            </button>
          </div>
          <div class="card-body">
            <div class="alert alert-info mb-4">
              <i class="bi bi-info-circle me-2"></i>
              Track the habits you want to break and monitor your progress over time.
            </div>
            
            <h5 class="mb-3">All Habits</h5>
            <div id="all-habits-list">
              <!-- All habits will be populated by JavaScript -->
            </div>
            <div id="no-all-habits" class="text-center py-4">
              <p class="text-muted">No habits being tracked yet.</p>
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addHabitModal">
                Start Tracking a Habit
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Sleep Section (Initially Hidden) -->
      <div id="sleep-content" class="content-section" style="display: none;">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Sleep Tracking</h5>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addSleepModal">
              Log New Sleep Record
            </button>
          </div>
          <div class="card-body">
            <div class="alert alert-info mb-4">
              <i class="bi bi-info-circle me-2"></i>
              Track your sleep patterns, monitor quality, and improve your sleep habits over time.
            </div>
            
            <div class="row mb-4">
              <div class="col-md-4 col-6">
                <div class="card stat-card">
                  <h6>Average Duration</h6>
                  <div class="stat-value" id="sleep-duration">0 hrs</div>
                  <div class="small text-muted">Goal: 8 hours</div>
                </div>
              </div>
              <div class="col-md-4 col-6">
                <div class="card stat-card">
                  <h6>Sleep Quality</h6>
                  <div class="stat-value" id="sleep-quality">0%</div>
                  <div class="small text-muted">Goal: 80%</div>
                </div>
              </div>
              <div class="col-md-4 col-6">
                <div class="card stat-card">
                  <h6>Consistency</h6>
                  <div class="stat-value" id="sleep-consistency">0%</div>
                  <div class="small text-muted">Goal: 90%</div>
                </div>
              </div>
            </div>
            
            <h5 class="mb-3">Recent Sleep Records</h5>
            <div id="sleep-records-list">
              <!-- Sleep records will be populated by JavaScript -->
            </div>
            
            <div class="mt-4">
              <h5 class="mb-3">Sleep History</h5>
              <canvas id="sleep-chart" height="200"></canvas>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Connections Section (Initially Hidden) -->
      <div id="connections-content" class="content-section" style="display: none;">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">External Health Data Connections</h5>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addConnectionModal">
              Connect a Device
            </button>
          </div>
          <div class="card-body">
            <div class="alert alert-info mb-4">
              <i class="bi bi-info-circle me-2"></i>
              Connect to your fitness devices and health apps to automatically import activity, calories, and workout data.
            </div>
            
            <div class="row mb-4">
              <div class="col-md-4 mb-3">
                <div class="card h-100">
                  <div class="card-body text-center py-4">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/AppleHealth.png" alt="Apple Health" style="width: 60px; height: 60px;">
                    <h5 class="mt-3">Apple Health</h5>
                    <p class="text-muted small">Import activities, steps, workouts, and more from Apple Health</p>
                    <button class="btn btn-outline-primary btn-connect" data-service="apple-health">Connect</button>
                  </div>
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <div class="card h-100">
                  <div class="card-body text-center py-4">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/5c/Google_Fit_2018_Logo.svg" alt="Google Fit" style="width: 60px; height: 60px;">
                    <h5 class="mt-3">Google Fit</h5>
                    <p class="text-muted small">Import activities, steps, workouts, and more from Google Fit</p>
                    <button class="btn btn-outline-primary btn-connect" data-service="google-fit">Connect</button>
                  </div>
                </div>
              </div>
              <div class="col-md-4 mb-3">
                <div class="card h-100">
                  <div class="card-body text-center py-4">
                    <i class="bi bi-smartwatch" style="font-size: 60px;"></i>
                    <h5 class="mt-3">Fitness Watch</h5>
                    <p class="text-muted small">Connect your fitness watch to sync workout and activity data</p>
                    <button class="btn btn-outline-primary btn-connect" data-service="fitness-watch">Connect</button>
                  </div>
                </div>
              </div>
            </div>
            
            <h5 class="mb-3">Connected Devices</h5>
            <div id="connected-devices-list">
              <!-- No devices connected yet -->
              <div class="text-center py-4" id="no-connected-devices">
                <p class="text-muted">No devices connected yet.</p>
                <p class="small">Connect your devices to automatically import health and fitness data</p>
              </div>
            </div>
            
            <h5 class="mb-3 mt-4">Synced Data</h5>
            <div id="synced-data-stats">
              <div class="row">
                <div class="col-md-3 col-6 mb-3">
                  <div class="card stat-card">
                    <h6>Last Sync</h6>
                    <div class="stat-value" id="last-sync-time">Never</div>
                  </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                  <div class="card stat-card">
                    <h6>Workouts</h6>
                    <div class="stat-value" id="synced-workouts-count">0</div>
                  </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                  <div class="card stat-card">
                    <h6>Steps</h6>
                    <div class="stat-value" id="synced-steps-count">0</div>
                  </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                  <div class="card stat-card">
                    <h6>Calories</h6>
                    <div class="stat-value" id="synced-calories-count">0</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        </div>
      </div>
    </main>

    <!-- Mobile Bottom Navigation -->
    <nav class="bottom-nav d-md-none">
      <div class="container">
        <div class="row">
          <div class="col">
            <a class="nav-link active" id="bottom-dashboard-tab" href="#">
              <i class="bi bi-speedometer2"></i>
              Dashboard
            </a>
          </div>
          <div class="col">
            <a class="nav-link" id="bottom-activity-tab" href="#">
              <i class="bi bi-activity"></i>
              Activities
            </a>
          </div>
          <div class="col">
            <a class="nav-link" id="bottom-nutrition-tab" href="#">
              <i class="bi bi-egg-fried"></i>
              Nutrition
            </a>
          </div>
          <div class="col">
            <a class="nav-link" id="bottom-habits-tab" href="#">
              <i class="bi bi-x-circle"></i>
              Habits
            </a>
          </div>
          <div class="col">
            <a class="nav-link" id="bottom-sleep-tab" href="#">
              <i class="bi bi-moon-stars"></i>
              Sleep
            </a>
          </div>
        </div>
      </div>
    </nav>
    
    <!-- Health Snapshot Modal -->
    <div class="modal fade" id="healthSnapshotModal" tabindex="-1" aria-labelledby="healthSnapshotModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="healthSnapshotModalLabel">Quick Health Snapshot</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="health-snapshot-form">
              <div class="row">
                <!-- Heart Rate -->
                <div class="col-md-6 mb-3">
                  <label for="heart-rate" class="form-label">
                    <i class="bi bi-heart-pulse text-primary"></i> Heart Rate (BPM)
                  </label>
                  <input type="number" class="form-control" id="heart-rate" placeholder="60-100" min="30" max="220">
                  <div class="form-text">Normal resting heart rate: 60-100 BPM</div>
                </div>
                
                <!-- Energy Level -->
                <div class="col-md-6 mb-3">
                  <label for="energy-level" class="form-label">
                    <i class="bi bi-activity text-success"></i> Energy Level
                  </label>
                  <select class="form-select" id="energy-level">
                    <option value="" selected disabled>Select your energy level</option>
                    <option value="5">5 - Very Energetic</option>
                    <option value="4">4 - Energetic</option>
                    <option value="3">3 - Average</option>
                    <option value="2">2 - Tired</option>
                    <option value="1">1 - Very Tired</option>
                  </select>
                </div>
                
                <!-- Hydration -->
                <div class="col-md-6 mb-3">
                  <label for="hydration" class="form-label">
                    <i class="bi bi-cup-hot text-info"></i> Hydration
                  </label>
                  <select class="form-select" id="hydration">
                    <option value="" selected disabled>How hydrated do you feel?</option>
                    <option value="well_hydrated">Well Hydrated</option>
                    <option value="hydrated">Hydrated</option>
                    <option value="slightly_thirsty">Slightly Thirsty</option>
                    <option value="thirsty">Thirsty</option>
                    <option value="very_thirsty">Very Thirsty</option>
                  </select>
                  <div class="form-text">Water consumed today in glasses:</div>
                  <div class="d-flex mt-1">
                    <input type="range" class="form-range" id="water-intake" min="0" max="10" value="0">
                    <span class="ms-2" id="water-intake-value">0</span>
                  </div>
                </div>
                
                <!-- Mood -->
                <div class="col-md-6 mb-3">
                  <label for="mood" class="form-label">
                    <i class="bi bi-emoji-smile text-warning"></i> Mood
                  </label>
                  <select class="form-select" id="mood">
                    <option value="" selected disabled>How are you feeling?</option>
                    <option value="5">üòÑ Very Happy</option>
                    <option value="4">üôÇ Happy</option>
                    <option value="3">üòê Neutral</option>
                    <option value="2">üôÅ Sad</option>
                    <option value="1">üòû Very Sad</option>
                  </select>
                </div>
                
                <!-- Stress Level -->
                <div class="col-md-6 mb-3">
                  <label for="stress-level" class="form-label">
                    <i class="bi bi-lightning-charge text-danger"></i> Stress Level
                  </label>
                  <div class="text-center mb-2">
                    <div class="btn-group" role="group" aria-label="Stress level">
                      <input type="radio" class="btn-check" name="stress-level" id="stress-1" value="1">
                      <label class="btn btn-outline-secondary" for="stress-1">1</label>
                      
                      <input type="radio" class="btn-check" name="stress-level" id="stress-2" value="2">
                      <label class="btn btn-outline-secondary" for="stress-2">2</label>
                      
                      <input type="radio" class="btn-check" name="stress-level" id="stress-3" value="3">
                      <label class="btn btn-outline-secondary" for="stress-3">3</label>
                      
                      <input type="radio" class="btn-check" name="stress-level" id="stress-4" value="4">
                      <label class="btn btn-outline-secondary" for="stress-4">4</label>
                      
                      <input type="radio" class="btn-check" name="stress-level" id="stress-5" value="5">
                      <label class="btn btn-outline-secondary" for="stress-5">5</label>
                    </div>
                  </div>
                  <div class="d-flex justify-content-between">
                    <span class="small">Low Stress</span>
                    <span class="small">High Stress</span>
                  </div>
                </div>
                
                <!-- Notes -->
                <div class="col-md-6 mb-3">
                  <label for="snapshot-notes" class="form-label">
                    <i class="bi bi-journal-text"></i> Quick Notes
                  </label>
                  <textarea class="form-control" id="snapshot-notes" rows="3" placeholder="Any additional notes about how you're feeling..."></textarea>
                </div>
                
                <!-- Location -->
                <div class="col-12 mb-3">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="include-location">
                    <label class="form-check-label" for="include-location">
                      <i class="bi bi-geo-alt"></i> Include my current location
                    </label>
                  </div>
                </div>
              </div>
              
              <div class="alert alert-info">
                <i class="bi bi-info-circle"></i> All snapshot data is stored securely and only accessible to you.
              </div>
              
              <div class="text-end">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">
                  <i class="bi bi-save"></i> Save Snapshot
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    
    <!-- About Modal -->
    <div class="modal fade" id="aboutModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">About Health & Wellness Tracker</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p><strong>Platform:</strong> Web</p>
            <p><strong>Version:</strong> 1.0</p>
            <p><strong>Created by:</strong> Health & Wellness Team</p>
            <p>This comprehensive application helps you track your fitness activities, break bad habits, monitor nutrition, and improve your overall wellbeing.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Log Activity Modal -->
    <div class="modal fade" id="logActivityModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="activity-modal-title">Log Activity</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="add-activity-form">
              <input type="hidden" id="activity-id">
              
              <!-- Workout Category Toggle -->
              <div class="mb-3 workout-category-toggle">
                <div class="form-label mb-2">Workout Type</div>
                <div class="d-flex justify-content-center mb-3">
                  <div class="btn-group" role="group" aria-label="Workout category">
                    <input type="radio" class="btn-check" name="workout-category" id="workout-cardio" value="cardio" checked>
                    <label class="btn btn-outline-primary" for="workout-cardio">
                      <i class="bi bi-heart-pulse"></i> Cardio
                    </label>
                    
                    <input type="radio" class="btn-check" name="workout-category" id="workout-weights" value="weights">
                    <label class="btn btn-outline-primary" for="workout-weights">
                      <i class="bi bi-bar-chart-fill"></i> Weights
                    </label>
                  </div>
                </div>
              </div>
              
              <div class="mb-3">
                <label for="activity-name" class="form-label">Activity Name</label>
                <div class="input-group">
                  <input type="text" class="form-control" id="activity-name" placeholder="e.g., Morning Run" required>
                  <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                    Select
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end exercise-preset-list">
                    <!-- Cardio presets -->
                    <li class="preset-category cardio-presets"><h6 class="dropdown-header">Cardio</h6></li>
                    <li class="preset-category cardio-presets"><a class="dropdown-item" href="#" data-name="Running">Running</a></li>
                    <li class="preset-category cardio-presets"><a class="dropdown-item" href="#" data-name="Cycling">Cycling</a></li>
                    <li class="preset-category cardio-presets"><a class="dropdown-item" href="#" data-name="Swimming">Swimming</a></li>
                    <li class="preset-category cardio-presets"><a class="dropdown-item" href="#" data-name="Elliptical">Elliptical</a></li>
                    <li class="preset-category cardio-presets"><a class="dropdown-item" href="#" data-name="Rowing">Rowing</a></li>
                    <li class="preset-category cardio-presets"><a class="dropdown-item" href="#" data-name="Jump Rope">Jump Rope</a></li>
                    
                    <!-- Weight presets -->
                    <li class="preset-category weight-presets"><h6 class="dropdown-header">Weight Training</h6></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Bench Press">Bench Press</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Squat">Squat</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Deadlift">Deadlift</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Overhead Press">Overhead Press</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Barbell Row">Barbell Row</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Pull Up">Pull Up</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Bicep Curl">Bicep Curl</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Tricep Extension">Tricep Extension</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Shoulder Press">Shoulder Press</a></li>
                    <li class="preset-category weight-presets"><a class="dropdown-item" href="#" data-name="Lat Pulldown">Lat Pulldown</a></li>
                  </ul>
                </div>
              </div>
              
              <!-- Weights specific options (hidden by default) -->
              <div id="weight-training-options" style="display: none;">
                <div class="mb-3">
                  <label class="form-label">Equipment Type</label>
                  <div class="d-flex justify-content-center">
                    <div class="btn-group" role="group" aria-label="Equipment type">
                      <input type="radio" class="btn-check" name="equipment-type" id="equipment-barbell" value="barbell" checked>
                      <label class="btn btn-outline-secondary" for="equipment-barbell">Barbell</label>
                      
                      <input type="radio" class="btn-check" name="equipment-type" id="equipment-dumbbell" value="dumbbell">
                      <label class="btn btn-outline-secondary" for="equipment-dumbbell">Dumbbell</label>
                      
                      <input type="radio" class="btn-check" name="equipment-type" id="equipment-machine" value="machine">
                      <label class="btn btn-outline-secondary" for="equipment-machine">Machine</label>
                      
                      <input type="radio" class="btn-check" name="equipment-type" id="equipment-bodyweight" value="bodyweight">
                      <label class="btn btn-outline-secondary" for="equipment-bodyweight">Bodyweight</label>
                    </div>
                  </div>
                </div>
                
                <!-- Weight selection - Barbell specific -->
                <div id="barbell-weight-selector" class="mb-3">
                  <label class="form-label">Barbell Weight</label>
                  <div class="text-center mb-2">
                    <span class="fw-bold">Standard 45lb Bar + Plates</span>
                    <div class="weight-calculation mt-1">
                      <span id="barbell-total-weight" class="h4">45</span> lbs
                    </div>
                  </div>
                  
                  <!-- Plate selector -->
                  <div class="text-center mb-2">
                    <p class="form-label">Add plates to each side:</p>
                    <div class="plate-selector d-flex justify-content-center gap-2 flex-wrap mb-3">
                      <button type="button" class="btn btn-outline-dark plate-btn" data-weight="45">45lb</button>
                      <button type="button" class="btn btn-outline-dark plate-btn" data-weight="35">35lb</button>
                      <button type="button" class="btn btn-outline-dark plate-btn" data-weight="25">25lb</button>
                      <button type="button" class="btn btn-outline-dark plate-btn" data-weight="15">15lb</button>
                      <button type="button" class="btn btn-outline-dark plate-btn" data-weight="10">10lb</button>
                      <button type="button" class="btn btn-outline-dark plate-btn" data-weight="5">5lb</button>
                      <button type="button" class="btn btn-outline-dark plate-btn" data-weight="2.5">2.5lb</button>
                    </div>
                    <button type="button" class="btn btn-sm btn-outline-danger" id="clear-plates-btn">Clear Plates</button>
                  </div>
                  
                  <div class="selected-plates mb-2">
                    <div class="form-label">Selected Plates:</div>
                    <div id="selected-plates-display" class="d-flex flex-wrap gap-1 justify-content-center">
                      <!-- Plates will be added here dynamically -->
                    </div>
                  </div>
                </div>
                
                <!-- Weight selection - Dumbbell/Machine specific -->
                <div id="other-weight-selector" class="mb-3" style="display: none;">
                  <label class="form-label">Weight (lbs)</label>
                  <div class="weight-selector-container position-relative">
                    <input type="number" id="other-weight-input" class="form-control text-center weight-input" value="0" min="0" max="200">
                    
                    <!-- Scroll wheel weight selector (initially hidden) -->
                    <div class="scroll-wheel-container" style="display: none;">
                      <div class="scroll-wheel">
                        <!-- Numbers will be added dynamically by JavaScript -->
                      </div>
                    </div>
                  </div>
                  <div class="form-text text-center">Double-tap to switch between scroll wheel and manual input</div>
                </div>
                
                <!-- Sets and reps -->
                <div class="row mb-3">
                  <div class="col-6">
                    <label for="sets-input" class="form-label">Sets</label>
                    <div class="position-relative">
                      <input type="number" id="sets-input" class="form-control text-center" value="3" min="1" max="20">
                      <div class="scroll-wheel-container sets-wheel" style="display: none;">
                        <div class="scroll-wheel">
                          <!-- Numbers will be added dynamically by JavaScript -->
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-6">
                    <label for="reps-input" class="form-label">Reps</label>
                    <div class="position-relative">
                      <input type="number" id="reps-input" class="form-control text-center" value="10" min="1" max="100">
                      <div class="scroll-wheel-container reps-wheel" style="display: none;">
                        <div class="scroll-wheel">
                          <!-- Numbers will be added dynamically by JavaScript -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="mb-3">
                <label for="activity-calories" class="form-label">Calories Burned</label>
                <input type="number" class="form-control" id="activity-calories" placeholder="e.g., 200" required>
              </div>
              
              <div class="mb-3">
                <label for="activity-duration" class="form-label">Duration (minutes)</label>
                <input type="number" class="form-control" id="activity-duration" placeholder="e.g., 30" required>
              </div>
              
              <div class="mb-3">
                <label for="activity-type" class="form-label">Activity Type</label>
                <select class="form-select" id="activity-type" required>
                  <option value="running">Running</option>
                  <option value="cycling">Cycling</option>
                  <option value="weights">Weight Training</option>
                  <option value="swimming">Swimming</option>
                </select>
              </div>
              
              <div class="d-flex justify-content-between">
                <div id="activity-delete-container" style="display: none;">
                  <button type="button" class="btn btn-outline-danger" id="delete-activity-btn">
                    <i class="bi bi-trash"></i> Delete
                  </button>
                </div>
                <div class="ms-auto">
                  <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                  <button type="submit" class="btn btn-primary" id="save-activity-btn">Save Activity</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Steps Modal -->
    <div class="modal fade" id="addStepsModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Steps</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="add-steps-form">
              <div class="mb-3">
                <label for="steps-count-input" class="form-label">Number of Steps</label>
                <input type="number" class="form-control" id="steps-count-input" placeholder="e.g., 2500" required>
              </div>
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Steps</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Habit Modal -->
    <div class="modal fade" id="addHabitModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Bad Habit</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="add-habit-form">
              <div class="mb-3">
                <label for="habit-name" class="form-label">Habit Name</label>
                <input type="text" class="form-control" id="habit-name" placeholder="e.g., Too Much Social Media" required>
              </div>
              <div class="mb-3">
                <label for="habit-description" class="form-label">Why do you want to quit?</label>
                <textarea class="form-control" id="habit-description" rows="2" placeholder="e.g., It wastes time and reduces productivity"></textarea>
              </div>
              <div class="mb-3">
                <label for="habit-frequency" class="form-label">How often does it occur?</label>
                <select class="form-select" id="habit-frequency" required>
                  <option value="multiple times daily">Multiple times daily</option>
                  <option value="daily">Daily</option>
                  <option value="several times a week">Several times a week</option>
                  <option value="weekly">Weekly</option>
                  <option value="occasionally">Occasionally</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="habit-category" class="form-label">Category</label>
                <select class="form-select" id="habit-category" required>
                  <option value="screen">Screen Time</option>
                  <option value="food">Food & Drink</option>
                  <option value="productivity">Productivity</option>
                  <option value="health">Health</option>
                  <option value="spending">Spending</option>
                  <option value="other">Other</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="habit-trigger" class="form-label">What triggers this habit?</label>
                <input type="text" class="form-control" id="habit-trigger" placeholder="e.g., Boredom, Stress">
              </div>
              <div class="mb-3">
                <label for="habit-alternative" class="form-label">Healthier alternative</label>
                <input type="text" class="form-control" id="habit-alternative" placeholder="e.g., Reading, Exercise">
              </div>
              <div class="mb-3">
                <label for="habit-reminder-time" class="form-label">Daily check-in reminder</label>
                <input type="time" class="form-control" id="habit-reminder-time">
              </div>
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Habit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Check-in Modal -->
    <div class="modal fade" id="check-in-modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Check-in</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="habit-check-in-form">
              <input type="hidden" id="check-in-habit-id">
              <div class="mb-3">
                <label class="form-label">Did you avoid this habit today?</label>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="check-in-success" id="check-in-success-yes" value="true" checked>
                  <label class="form-check-label" for="check-in-success-yes">
                    Yes, I successfully avoided it!
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="check-in-success" id="check-in-success-no" value="false">
                  <label class="form-check-label" for="check-in-success-no">
                    No, I gave in to the habit.
                  </label>
                </div>
              </div>
              <div class="mb-3">
                <label for="check-in-date" class="form-label">Date</label>
                <input type="date" class="form-control" id="check-in-date">
              </div>
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Check-in</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Meal Modal -->
    <div class="modal fade" id="addMealModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Log Meal</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="add-meal-form">
              <div class="mb-3">
                <label for="meal-name" class="form-label">Meal Name</label>
                <input type="text" class="form-control" id="meal-name" placeholder="e.g., Breakfast, Lunch, Dinner" required>
              </div>
              <div class="mb-3">
                <label for="meal-description" class="form-label">Description</label>
                <textarea class="form-control" id="meal-description" rows="2" placeholder="e.g., Chicken salad with olive oil dressing"></textarea>
              </div>
              <div class="mb-3">
                <label for="meal-calories" class="form-label">Calories</label>
                <input type="number" class="form-control" id="meal-calories" placeholder="e.g., 500" required>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="meal-protein" class="form-label">Protein (g)</label>
                    <input type="number" class="form-control" id="meal-protein" placeholder="e.g., 30">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="meal-carbs" class="form-label">Carbs (g)</label>
                    <input type="number" class="form-control" id="meal-carbs" placeholder="e.g., 45">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="mb-3">
                    <label for="meal-fat" class="form-label">Fat (g)</label>
                    <input type="number" class="form-control" id="meal-fat" placeholder="e.g., 15">
                  </div>
                </div>
              </div>
              <div class="mb-3">
                <label for="meal-time" class="form-label">Time</label>
                <input type="time" class="form-control" id="meal-time">
              </div>
              <div class="mb-3">
                <label for="meal-category" class="form-label">Category</label>
                <select class="form-select" id="meal-category" required>
                  <option value="breakfast">Breakfast</option>
                  <option value="lunch">Lunch</option>
                  <option value="dinner">Dinner</option>
                  <option value="snack">Snack</option>
                  <option value="dessert">Dessert</option>
                </select>
              </div>
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Meal</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Sleep Modal -->
    <div class="modal fade" id="addSleepModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Log Sleep</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="add-sleep-form">
              <div class="mb-3">
                <label for="sleep-date" class="form-label">Date</label>
                <input type="date" class="form-control" id="sleep-date" required>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="sleep-bedtime" class="form-label">Bedtime</label>
                    <input type="time" class="form-control" id="sleep-bedtime" required>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label for="sleep-waketime" class="form-label">Wake Time</label>
                    <input type="time" class="form-control" id="sleep-waketime" required>
                  </div>
                </div>
              </div>
              <div class="mb-3">
                <label for="sleep-quality" class="form-label">Sleep Quality (1-5)</label>
                <select class="form-select" id="sleep-quality" required>
                  <option value="5">5 - Excellent</option>
                  <option value="4">4 - Good</option>
                  <option value="3" selected>3 - Average</option>
                  <option value="2">2 - Fair</option>
                  <option value="1">1 - Poor</option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label">Sleep Disturbances</label>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sleep-disturbances" id="sleep-disturbances-none" value="none" checked>
                  <label class="form-check-label" for="sleep-disturbances-none">
                    None
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sleep-disturbances" id="sleep-disturbances-noise" value="noise">
                  <label class="form-check-label" for="sleep-disturbances-noise">
                    Noise
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sleep-disturbances" id="sleep-disturbances-stress" value="stress">
                  <label class="form-check-label" for="sleep-disturbances-stress">
                    Stress/Anxiety
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sleep-disturbances" id="sleep-disturbances-light" value="light">
                  <label class="form-check-label" for="sleep-disturbances-light">
                    Light/Temperature
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sleep-disturbances" id="sleep-disturbances-other" value="other">
                  <label class="form-check-label" for="sleep-disturbances-other">
                    Other
                  </label>
                </div>
              </div>
              <div class="mb-3">
                <label for="sleep-notes" class="form-label">Notes</label>
                <textarea class="form-control" id="sleep-notes" rows="2" placeholder="e.g., Took melatonin, had caffeine late in the day"></textarea>
              </div>
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Sleep Record</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast container for notifications -->
    <div id="toast-container" class="toast-container position-fixed bottom-0 end-0 p-3"></div>
  </div>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  
  <!-- Bootstrap JS and dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
  
  <!-- Chart.js for data visualization -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Application JavaScript -->
  <script src="public/js/activity.js"></script>
  <script src="public/js/badHabit.js"></script>
  <script src="public/js/nutrition.js"></script>
  <script src="public/js/sleep.js"></script>
  <script src="public/js/healthConnections.js"></script>
  <script src="public/js/app.js"></script>
  
  <script>
    // Tab navigation
    document.addEventListener('DOMContentLoaded', function() {
      // Top navigation
      const dashboardTab = document.getElementById('dashboard-tab');
      const activityTab = document.getElementById('activity-tab');
      const nutritionTab = document.getElementById('nutrition-tab');
      const habitsTab = document.getElementById('habits-tab');
      const sleepTab = document.getElementById('sleep-tab');
      const connectionsTab = document.getElementById('connections-tab');
      
      // Bottom navigation
      const bottomDashboardTab = document.getElementById('bottom-dashboard-tab');
      const bottomActivityTab = document.getElementById('bottom-activity-tab');
      const bottomNutritionTab = document.getElementById('bottom-nutrition-tab');
      const bottomHabitsTab = document.getElementById('bottom-habits-tab');
      const bottomSleepTab = document.getElementById('bottom-sleep-tab');
      
      // Content sections
      const dashboardContent = document.getElementById('dashboard-content');
      const activityContent = document.getElementById('activity-content');
      const nutritionContent = document.getElementById('nutrition-content');
      const habitsContent = document.getElementById('habits-content');
      const sleepContent = document.getElementById('sleep-content');
      const connectionsContent = document.getElementById('connections-content');
      
      function showContent(contentId) {
        // Hide all content sections
        dashboardContent.style.display = 'none';
        activityContent.style.display = 'none';
        nutritionContent.style.display = 'none';
        habitsContent.style.display = 'none';
        sleepContent.style.display = 'none';
        connectionsContent.style.display = 'none';
        
        // Remove active class from all tabs
        dashboardTab.classList.remove('active');
        activityTab.classList.remove('active');
        nutritionTab.classList.remove('active');
        habitsTab.classList.remove('active');
        sleepTab.classList.remove('active');
        connectionsTab.classList.remove('active');
        bottomDashboardTab.classList.remove('active');
        bottomActivityTab.classList.remove('active');
        bottomNutritionTab.classList.remove('active');
        bottomHabitsTab.classList.remove('active');
        bottomSleepTab.classList.remove('active');
        
        // Show the selected content and highlight the tab
        if (contentId === 'dashboard') {
          dashboardContent.style.display = 'block';
          dashboardTab.classList.add('active');
          bottomDashboardTab.classList.add('active');
        } else if (contentId === 'activity') {
          activityContent.style.display = 'block';
          activityTab.classList.add('active');
          bottomActivityTab.classList.add('active');
        } else if (contentId === 'nutrition') {
          nutritionContent.style.display = 'block';
          nutritionTab.classList.add('active');
          bottomNutritionTab.classList.add('active');
        } else if (contentId === 'habits') {
          habitsContent.style.display = 'block';
          habitsTab.classList.add('active');
          bottomHabitsTab.classList.add('active');
        } else if (contentId === 'sleep') {
          sleepContent.style.display = 'block';
          sleepTab.classList.add('active');
          bottomSleepTab.classList.add('active');
        } else if (contentId === 'connections') {
          connectionsContent.style.display = 'block';
          connectionsTab.classList.add('active');
          updateConnectionsView(); // Update connections view when tab is shown
        }
      }
      
      // Add event listeners to tabs
      dashboardTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('dashboard');
      });
      
      activityTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('activity');
      });
      
      nutritionTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('nutrition');
      });
      
      habitsTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('habits');
      });
      
      bottomDashboardTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('dashboard');
      });
      
      bottomActivityTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('activity');
      });
      
      bottomNutritionTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('nutrition');
      });
      
      bottomHabitsTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('habits');
      });
      
      sleepTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('sleep');
      });
      
      bottomSleepTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('sleep');
      });
      
      connectionsTab.addEventListener('click', function(e) {
        e.preventDefault();
        showContent('connections');
      });
      
      // Initialize date inputs with today's date
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth() + 1).padStart(2, '0');
      const dd = String(today.getDate()).padStart(2, '0');
      const todayStr = `${yyyy}-${mm}-${dd}`;
      
      // Initialize check-in date
      const checkInDateInput = document.getElementById('check-in-date');
      if (checkInDateInput) {
        checkInDateInput.value = todayStr;
      }
      
      // Initialize sleep date
      const sleepDateInput = document.getElementById('sleep-date');
      if (sleepDateInput) {
        sleepDateInput.value = todayStr;
      }
    });
  </script>
    <!-- Device Connection Modal -->
    <div class="modal fade" id="addConnectionModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Connect Health Device</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="add-connection-form">
              <div class="mb-3">
                <label for="connection-type" class="form-label">Connection Type</label>
                <select class="form-select" id="connection-type" required>
                  <option value="apple-health">Apple Health</option>
                  <option value="google-fit">Google Fit</option>
                  <option value="fitness-watch">Fitness Watch</option>
                </select>
              </div>
              
              <div id="apple-health-fields">
                <div class="alert alert-info">
                  <p><i class="bi bi-info-circle me-2"></i> To connect with Apple Health:</p>
                  <ol class="mb-0">
                    <li>Open Health app on your iOS device</li>
                    <li>Go to Sharing > Apps</li>
                    <li>Enable sharing for this application</li>
                    <li>Select data categories to share</li>
                  </ol>
                </div>
                <div class="mb-3">
                  <label for="apple-permissions" class="form-label">Select data to import</label>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="apple-steps" checked>
                    <label class="form-check-label" for="apple-steps">Steps</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="apple-workouts" checked>
                    <label class="form-check-label" for="apple-workouts">Workouts</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="apple-sleep" checked>
                    <label class="form-check-label" for="apple-sleep">Sleep</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="apple-nutrition" checked>
                    <label class="form-check-label" for="apple-nutrition">Nutrition</label>
                  </div>
                </div>
              </div>
              
              <div id="google-fit-fields" style="display: none;">
                <div class="alert alert-info">
                  <p><i class="bi bi-info-circle me-2"></i> To connect with Google Fit:</p>
                  <ol class="mb-0">
                    <li>Sign in with your Google account</li>
                    <li>Allow access to Google Fit data</li>
                    <li>Select data categories to share</li>
                  </ol>
                </div>
                <div class="mb-3">
                  <label for="google-permissions" class="form-label">Select data to import</label>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="google-steps" checked>
                    <label class="form-check-label" for="google-steps">Steps</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="google-workouts" checked>
                    <label class="form-check-label" for="google-workouts">Workouts</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="google-sleep" checked>
                    <label class="form-check-label" for="google-sleep">Sleep</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="google-nutrition" checked>
                    <label class="form-check-label" for="google-nutrition">Nutrition</label>
                  </div>
                </div>
              </div>
              
              <div id="fitness-watch-fields" style="display: none;">
                <div class="mb-3">
                  <label for="watch-brand" class="form-label">Watch Brand</label>
                  <select class="form-select" id="watch-brand">
                    <option value="apple-watch">Apple Watch</option>
                    <option value="fitbit">Fitbit</option>
                    <option value="garmin">Garmin</option>
                    <option value="samsung">Samsung Galaxy Watch</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="watch-permissions" class="form-label">Select data to import</label>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="watch-steps" checked>
                    <label class="form-check-label" for="watch-steps">Steps</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="watch-workouts" checked>
                    <label class="form-check-label" for="watch-workouts">Workouts</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="watch-sleep" checked>
                    <label class="form-check-label" for="watch-sleep">Sleep</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="watch-heart-rate" checked>
                    <label class="form-check-label" for="watch-heart-rate">Heart Rate</label>
                  </div>
                </div>
              </div>
              
              <div class="mb-3">
                <label for="sync-frequency" class="form-label">Sync Frequency</label>
                <select class="form-select" id="sync-frequency">
                  <option value="realtime">Real-time</option>
                  <option value="hourly">Hourly</option>
                  <option value="daily" selected>Daily</option>
                  <option value="manual">Manual Only</option>
                </select>
              </div>
              
              <div class="d-flex justify-content-end">
                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Connect</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    
  <!-- Login Modal -->
  <div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Log In</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="alert alert-danger" id="login-error" style="display: none;"></div>
          <form id="login-form">
            <div class="mb-3">
              <label for="login-email" class="form-label">Email address</label>
              <input type="email" class="form-control" id="login-email" required>
            </div>
            <div class="mb-3">
              <label for="login-password" class="form-label">Password</label>
              <input type="password" class="form-control" id="login-password" required>
            </div>
            <div class="mb-3 form-check">
              <input type="checkbox" class="form-check-input" id="remember-me">
              <label class="form-check-label" for="remember-me">Remember me</label>
            </div>
            <div class="d-grid">
              <button type="submit" class="btn btn-primary">Log In</button>
            </div>
          </form>
          <div class="mt-3 text-center">
            <p>Don't have an account? <a href="#" data-bs-toggle="modal" data-bs-target="#registerModal" data-bs-dismiss="modal">Sign up</a></p>
            <p><a href="#" id="forgot-password">Forgot password?</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Registration Modal -->
  <div class="modal fade" id="registerModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Create an Account</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="alert alert-danger" id="register-error" style="display: none;"></div>
          <form id="register-form">
            <div class="mb-3">
              <label for="register-name" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="register-name" required>
            </div>
            <div class="mb-3">
              <label for="register-email" class="form-label">Email address</label>
              <input type="email" class="form-control" id="register-email" required>
              <div class="form-text">We'll never share your email with anyone else.</div>
            </div>
            <div class="mb-3">
              <label for="register-password" class="form-label">Password</label>
              <input type="password" class="form-control" id="register-password" required>
              <div class="form-text">Password must be at least 8 characters long.</div>
            </div>
            <div class="mb-3">
              <label for="register-password-confirm" class="form-label">Confirm Password</label>
              <input type="password" class="form-control" id="register-password-confirm" required>
            </div>
            <div class="mb-3 form-check">
              <input type="checkbox" class="form-check-input" id="terms-agree" required>
              <label class="form-check-label" for="terms-agree">I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></label>
            </div>
            <div class="d-grid">
              <button type="submit" class="btn btn-primary">Create Account</button>
            </div>
          </form>
          <div class="mt-3 text-center">
            <p>Already have an account? <a href="#" data-bs-toggle="modal" data-bs-target="#loginModal" data-bs-dismiss="modal">Log in</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- User Settings Modal -->
  <div class="modal fade" id="userSettingsModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">User Settings</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul class="nav nav-tabs" id="settingsTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-pane" type="button" role="tab" aria-controls="profile-pane" aria-selected="true">Profile</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="preferences-tab" data-bs-toggle="tab" data-bs-target="#preferences-pane" type="button" role="tab" aria-controls="preferences-pane" aria-selected="false">Preferences</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security-pane" type="button" role="tab" aria-controls="security-pane" aria-selected="false">Security</button>
            </li>
          </ul>
          <div class="tab-content p-3" id="settingsTabContent">
            <div class="tab-pane fade show active" id="profile-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
              <form id="profile-settings-form">
                <div class="mb-3">
                  <label for="settings-name" class="form-label">Full Name</label>
                  <input type="text" class="form-control" id="settings-name">
                </div>
                <div class="mb-3">
                  <label for="settings-email" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="settings-email">
                </div>
                <div class="d-grid">
                  <button type="submit" class="btn btn-primary">Save Profile</button>
                </div>
              </form>
            </div>
            <div class="tab-pane fade" id="preferences-pane" role="tabpanel" aria-labelledby="preferences-tab" tabindex="0">
              <form id="preferences-settings-form">
                <div class="mb-3">
                  <label class="form-label">Units</label>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="units" id="units-metric" value="metric">
                    <label class="form-check-label" for="units-metric">
                      Metric (kg, km)
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="units" id="units-imperial" value="imperial">
                    <label class="form-check-label" for="units-imperial">
                      Imperial (lb, miles)
                    </label>
                  </div>
                </div>
                <div class="mb-3">
                  <label for="daily-calorie-goal" class="form-label">Daily Calorie Goal</label>
                  <input type="number" class="form-control" id="daily-calorie-goal" min="1000" max="5000">
                </div>
                <div class="mb-3">
                  <label for="daily-steps-goal" class="form-label">Daily Steps Goal</label>
                  <input type="number" class="form-control" id="daily-steps-goal" min="1000" max="30000">
                </div>
                <div class="d-grid">
                  <button type="submit" class="btn btn-primary">Save Preferences</button>
                </div>
              </form>
            </div>
            <div class="tab-pane fade" id="security-pane" role="tabpanel" aria-labelledby="security-tab" tabindex="0">
              <form id="security-settings-form">
                <div class="mb-3">
                  <label for="current-password" class="form-label">Current Password</label>
                  <input type="password" class="form-control" id="current-password">
                </div>
                <div class="mb-3">
                  <label for="new-password" class="form-label">New Password</label>
                  <input type="password" class="form-control" id="new-password">
                </div>
                <div class="mb-3">
                  <label for="confirm-new-password" class="form-label">Confirm New Password</label>
                  <input type="password" class="form-control" id="confirm-new-password">
                </div>
                <div class="d-grid">
                  <button type="submit" class="btn btn-primary">Change Password</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Bootstrap Icons -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"></script>
  
  <!-- App Scripts -->
  <script src="public/js/activity.js"></script>
  <script src="public/js/badHabit.js"></script>
  <script src="public/js/nutrition.js"></script>
  <script src="public/js/sleep.js"></script>
  <script src="public/js/healthConnections.js"></script>
  <script src="public/js/healthSnapshot.js"></script>
  <script src="public/js/user.js"></script>
  <script src="public/js/app.js"></script>
</body>
</html>